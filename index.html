<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Phaser - Making your first game, part 1</title>
    <script type="text/javascript" src="js/vendor/phaser.min.js"></script>
    <script type="text/javascript" src="js/components/player.js"></script>
    <script type="text/javascript" src="js/components/enemy.js"></script>
    <script type="text/javascript" src="js/helpers/sprite_loader.js"></script>
    <script type="text/javascript" src="js/preload.js"></script>
    <script type="text/javascript" src="js/create.js"></script>
    <script type="text/javascript" src="js/update.js"></script>
    <style type="text/css">
        body {
            margin: 0;
        }
        canvas {
          margin: 0 auto;
        }
    </style>
    <script type="text/javascript">
        var game = new Phaser.Game(800, 900, Phaser.AUTO, "#game", {
          preload: preload,
          create: create,
          update: update,
          render: render
        });

        // Basic configuration values
        // overload these for upgrades / etc
        var config = {
          player: {
            speed: 250,
            lives: 3,
            bullet: {
              velocity: 450,
              rateOfFire: 200
            }
          },
          enemy: {

          }
        }


        /**
         * Globals
         */
        var player;
        var bullets;
        var bulletFireDelay = 0;
        var collisionDelay = 0;
        var respawnDelay = 0;
        var enemySpawnDelay = 0;
        var fireButton;
        var dronesGroup;
        var score = 0;
        var textElement;
        var eventTextUpdateElement;
        var starfield;

        function render () {
          // game.debug.body(player);
          // game.debug.body(drone_1);
        }

        /**
         * PRIVATE METHODS
         */
        function textUpdate () {
          return "Score: " + score
          + "\nLives: " + player.configuration.lives
        }

        function enemyBulletHandler (bullet) {
          bullet.kill();
          player.kill();

          // TODO: Trigger explosion on player
          // TODO: Remove 1 life
        }
    </script>
</head>
<body>
  <div id="game"></div>
</body>
</html>
